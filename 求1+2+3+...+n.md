### 代码

``` java
public class Solution {
    public int Sum_Solution(int n) {
        int a = 0;
        boolean b = n > 0 && (a = (Sum_Solution(n - 1) + n)) > 0;
        return a;
    }
}
```



### 思路

有很多花里胡哨的方法，这里只介绍用递归的方法来做。但是递归需要有一个终止条件，此题的终止条件应该是：

``` java
if (n <= 0)
    return 0;
```

还是需要用到 if 语句，怎么办？其实多组的 if - else if 结构或者switch结构可以用短路与来实现。注意&&运算两个操作数都必须是布尔类型的，且运算结果也是布尔类型的。

首先我们用一个布尔变量b来存储&&运算的结果，这个变量是没用实际用处的。然后考虑第一个条件，这个条件必须在 n <= 0时值为false，这样才能提前终止。很简单，直接取反即可，即这个条件应该是 n > 0。然后是第二个条件，此时n > 0，按原来的写法应该是return Sum_solution(n - 1) + n; 这里要把它变为布尔值。也很简单，随便写一个恒成立的布尔表达式即可，如Sum_solution(n - 1) + n > 0。其实写一个不成立的也可以，我们的目的只在于能够**顺便执行表达式中的语句**。

现在 if 分支解决了，还剩下最后的返回值。可以设一个值a来返回，初值为0。则当第一个条件为false时，a不操作；当计算第二个条件时，执行了语句，则把结果赋给a即可，条件成不成立无所谓。这样我们就能最终返回a作为正确的结果。



### 总结

注意短路或，短路与的巧妙使用。